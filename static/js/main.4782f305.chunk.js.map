{"version":3,"sources":["../../src/utils.js","../../src/GroupSliderLine.js","../../src/GroupSlider.js","App.js","index.js"],"names":["renderRangeInText","text","separator","range","left","right","SideTextDescription","leftText","rightText","children","className","GroupSliderLine","state","onChange","val","nextRight","Math","calculateMarks","mid","max","0","renderDescription","descriptionConfig","placeholder","type","leftAddonText","rightAddonText","inputProps","defaultValue","e","inputPropsWithAddon","Object","addonBefore","addonAfter","render","this","marks","props","min","value","onAfterChange","React","Component","useState","ranges","setRanges","descriptions","setDescriptions","useEffect","isFullRange","values","r","i","parseInt","removeText","addText","key","onAfterRangeChange","index","currentRight","rightNeighbor","syncRange","data","updateDescription","description","nextDescriptions","initialDescription","gutter","span","disabled","lastIndex","isAbleToAddRange","ghost","onClick","newRanges","danger","App","style","display","width","justifyContent","flexDirection","alignItems","color","href","target","addButtonText","removeButtonText","showDivider","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.4782f305.chunk.js","sourcesContent":["const DEFAULT_SEPARATOR = '-'\r\nexport function renderRangeInText(\r\n  range,\r\n  text = '',\r\n  separator = DEFAULT_SEPARATOR\r\n) {\r\n  if (!range || range.length !== 2) {\r\n    return text\r\n  }\r\n  const left = range[0]\r\n  const right = range[1]\r\n  return text.replace(/{{range}}/, `${left}${separator}${right}`)\r\n}\r\n","import React from 'react'\r\nimport { Input, Slider } from 'antd'\r\nimport { renderRangeInText } from './utils'\r\nimport './styles.css'\r\n\r\nconst DEFAULT_PLACEHOLDER = 'Description for range {{range}}'\r\n\r\nconst SideTextDescription = ({ leftText, rightText, children }) => {\r\n  return (\r\n    <div className='antd-group-slider-item__description'>\r\n      <div className='antd-group-slider-item__description-left-text'>\r\n        {leftText}\r\n      </div>\r\n\r\n      {children}\r\n\r\n      <div className='antd-group-slider-item__description-right-text'>\r\n        {rightText}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nclass GroupSliderLine extends React.Component {\r\n  state = {\r\n    right: this.props.value[1],\r\n    left: this.props.value[0]\r\n  }\r\n  onChange = (val) => {\r\n    const [left, right] = val\r\n    const nextRight = left === this.state.left ? right : left\r\n    this.setState({\r\n      right: Math.max(this.state.left, nextRight)\r\n    })\r\n  }\r\n  calculateMarks = (max) => {\r\n    const mid = Math.floor(max / 2)\r\n    return {\r\n      0: '0',\r\n      [mid]: mid.toString(),\r\n      [max]: max.toString()\r\n    }\r\n  }\r\n  renderDescription = () => {\r\n    const descriptionConfig = this.props.descriptionConfig || {}\r\n    const {\r\n      placeholder,\r\n      type,\r\n      separator,\r\n      leftText,\r\n      leftAddonText,\r\n      rightText,\r\n      rightAddonText\r\n    } = descriptionConfig\r\n    if (type === 'none') {\r\n      return <React.Fragment />\r\n    }\r\n\r\n    const range = [this.state.left, this.state.right]\r\n    const inputProps = {\r\n      className: 'antd-group-slider-item__description',\r\n      placeholder: placeholder\r\n        ? renderRangeInText(range, placeholder, separator)\r\n        : renderRangeInText(range, DEFAULT_PLACEHOLDER, separator),\r\n      defaultValue: this.props.initialDescription,\r\n      onChange: (e) => this.props.updateDescription(e.target.value)\r\n    }\r\n\r\n    if (type === 'input') {\r\n      const inputPropsWithAddon = Object.assign({}, inputProps, {\r\n        addonBefore: renderRangeInText(range, leftAddonText, separator),\r\n        addonAfter: renderRangeInText(range, rightAddonText, separator)\r\n      })\r\n      return (\r\n        <SideTextDescription\r\n          range={range}\r\n          leftText={renderRangeInText(range, leftText, separator)}\r\n          rightText={renderRangeInText(range, rightText, separator)}\r\n        >\r\n          <Input {...inputPropsWithAddon} />\r\n        </SideTextDescription>\r\n      )\r\n    }\r\n    return (\r\n      <SideTextDescription\r\n        range={range}\r\n        leftText={renderRangeInText(range, leftText, separator)}\r\n        rightText={renderRangeInText(range, rightText, separator)}\r\n      >\r\n        <Input.TextArea {...inputProps} />\r\n      </SideTextDescription>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { left, right } = this.state\r\n    const marks = this.props.marks || this.calculateMarks(this.props.max)\r\n\r\n    return (\r\n      <div className='antd-group-slider-item'>\r\n        <Slider\r\n          className='antd-group-slider-item__slider'\r\n          range\r\n          min={0}\r\n          max={this.props.max}\r\n          marks={marks}\r\n          value={[left, right]}\r\n          onChange={this.onChange}\r\n          onAfterChange={(val) => this.props.onAfterRangeChange(val)}\r\n        />\r\n        {this.renderDescription()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default GroupSliderLine\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Button, Divider, Col, Row } from 'antd'\r\nimport GroupSliderLine from './GroupSliderLine'\r\nimport './styles.css'\r\nconst DEFAULT_LEFT = 0\r\nconst DEFAULT_RIGHT = 100\r\n\r\nconst GroupSlider = ({ min = DEFAULT_LEFT, max = DEFAULT_RIGHT, ...props }) => {\r\n  const [ranges, setRanges] = useState([[min, max]])\r\n  const [descriptions, setDescriptions] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (props.initialValues) {\r\n      const { ranges, descriptions } = props.initialValues\r\n      setRanges(ranges)\r\n      setDescriptions(descriptions)\r\n    }\r\n  }, [])\r\n\r\n  const isFullRange = () => {\r\n    const values = new Set()\r\n    ranges.forEach((r) => {\r\n      const [left, right] = r\r\n      for (let i = left; i <= right; i++) {\r\n        if (i >= 0 && i <= 100) values.add(i)\r\n      }\r\n    })\r\n    return values.size === parseInt(max) + 1\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.onChange) {\r\n      props.onChange({ ranges, descriptions, isFullRange: isFullRange() })\r\n    }\r\n  }, [ranges, descriptions])\r\n\r\n  const addRange = () => {\r\n    const newRanges = [...ranges]\r\n    const lastIndex = ranges.length - 1\r\n    const left = ranges[lastIndex][1]\r\n    newRanges.push([left + 1, max])\r\n    setRanges(newRanges)\r\n  }\r\n\r\n  const syncRange = (range, index) => {\r\n    let currentRight = range[1]\r\n    const rightNeighbor = ranges[index + 1]\r\n    if (rightNeighbor) {\r\n      const nextRight = rightNeighbor[1]\r\n      if (currentRight >= nextRight - 1) {\r\n        currentRight = nextRight - 2\r\n        rightNeighbor[0] = rightNeighbor[1] - 1\r\n      } else {\r\n        rightNeighbor[0] = currentRight + 1\r\n      }\r\n    }\r\n    ranges[index][1] = currentRight\r\n    setRanges([...ranges])\r\n  }\r\n\r\n  const updateDescription = (description, index) => {\r\n    const nextDescriptions = [...descriptions]\r\n    nextDescriptions[index] = description\r\n    setDescriptions(nextDescriptions)\r\n  }\r\n\r\n  const renderPointRangeGroupLine = () => {\r\n    return ranges.map((range, i) => {\r\n      return (\r\n        <React.Fragment key={range}>\r\n          <GroupSliderLine\r\n            marks={props.marks}\r\n            descriptionConfig={props.descriptionConfig}\r\n            onAfterRangeChange={(data) => syncRange(data, i)}\r\n            updateDescription={(data) => updateDescription(data, i)}\r\n            initialDescription={descriptions[i]}\r\n            value={range}\r\n            max={max}\r\n          />\r\n          {props.showDivider ? <Divider /> : <React.Fragment />}\r\n        </React.Fragment>\r\n      )\r\n    })\r\n  }\r\n\r\n  const isAbleToAddRange = () => {\r\n    const lastIndex = ranges.length - 1\r\n    return ranges[lastIndex][1] > max - 2\r\n  }\r\n\r\n  const cannotRemoveRange = () => {\r\n    return ranges.length <= 1\r\n  }\r\n\r\n  const removeLastRange = () => {\r\n    ranges.pop()\r\n    const lastIndex = ranges.length - 1\r\n    ranges[lastIndex][1] = max\r\n    setRanges([...ranges])\r\n    descriptions.pop()\r\n    setDescriptions([...descriptions])\r\n  }\r\n\r\n  const removeText = props.removeButtonText || 'Remove last range'\r\n  const addText = props.addButtonText || 'Add more range'\r\n  return (\r\n    <div className='antd-group-slider'>\r\n      {renderPointRangeGroupLine()}\r\n      <Row className='antd-group-slider__footer' gutter={4}>\r\n        <Col span={12}>\r\n          <Button\r\n            className='antd-group-slider__btn-add-range'\r\n            disabled={isAbleToAddRange()}\r\n            ghost\r\n            type='primary'\r\n            onClick={addRange}\r\n          >\r\n            {addText}\r\n          </Button>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Button\r\n            className='antd-group-slider__btn-remove-range'\r\n            danger\r\n            disabled={cannotRemoveRange()}\r\n            onClick={removeLastRange}\r\n          >\r\n            {removeText}\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GroupSlider\r\n","import React from 'react'\r\nimport GroupSlider from 'antd-group-slider'\r\nimport 'antd-group-slider/dist/index.css'\r\nimport 'antd/dist/antd.css'\r\nconst App = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        width: '100%',\r\n        justifyContent: 'center',\r\n        flexDirection: 'column',\r\n        alignItems: 'center'\r\n      }}\r\n    >\r\n      <h1 style={{ color: 'darkred' }}>antd-group-slider</h1>\r\n      <h3>\r\n        NPM:{' '}\r\n        <a\r\n          href='https://www.npmjs.com/package/antd-group-slider'\r\n          target='_blank'\r\n        >\r\n          https://www.npmjs.com/package/antd-group-slider\r\n        </a>\r\n      </h3>\r\n      <h3>\r\n        GitHub:{' '}\r\n        <a href='https://github.com/huyennbl/antd-group-slider' target='_blank'>\r\n          https://github.com/huyennbl/antd-group-slider\r\n        </a>\r\n      </h3>\r\n      <div className='example'>\r\n        <div className='example__code'>\r\n          <pre>{'<GroupSlider />'}</pre>\r\n        </div>\r\n        <GroupSlider />\r\n      </div>\r\n\r\n      <div className='example'>\r\n        <div className='example__code'>\r\n          <pre>{`<GroupSlider\r\n  max={500}\r\n  addButtonText='More range'\r\n  removeButtonText='Remove last'\r\n/>`}</pre>\r\n        </div>\r\n        <GroupSlider\r\n          max={500}\r\n          addButtonText='More range'\r\n          removeButtonText='Remove last'\r\n        />\r\n      </div>\r\n\r\n      <div className='example'>\r\n        <div className='example__code'>\r\n          <pre>{`<GroupSlider\r\n  descriptionConfig={{\r\n    placeholder: 'Waiting for description of range {{range}}',\r\n    leftText: 'Description of {{range}}: '\r\n  }}\r\n/>`}</pre>\r\n        </div>\r\n        <GroupSlider\r\n          descriptionConfig={{\r\n            placeholder: 'Waiting for description of range {{range}}',\r\n            leftText: 'Description of {{range}}: '\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div className='example'>\r\n        <div className='example__code'>\r\n          <pre>{`<GroupSlider\r\n  descriptionConfig={{\r\n    leftAddonText: 'Description of {{range}}: ', // addonText only works with type='input'\r\n    type: 'input'\r\n  }}\r\n/>`}</pre>\r\n        </div>\r\n        <GroupSlider\r\n          descriptionConfig={{\r\n            leftAddonText: 'Description of {{range}}: ', // addonText only works with type='input'\r\n            type: 'input'\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div className='example'>\r\n        <div className='example__code'>\r\n          <pre>{`<GroupSlider\r\n  descriptionConfig={{\r\n    type: 'none'\r\n  }}\r\n/>`}</pre>\r\n        </div>\r\n        <GroupSlider\r\n          descriptionConfig={{\r\n            type: 'none'\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div className='example'>\r\n        <div className='example__code'>\r\n          <pre>{`<GroupSlider showDivider />`}</pre>\r\n        </div>\r\n        <GroupSlider showDivider />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import './index.css'\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}